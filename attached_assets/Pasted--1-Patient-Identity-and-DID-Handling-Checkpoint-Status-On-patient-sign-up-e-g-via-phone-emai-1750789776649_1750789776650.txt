ğŸ” 1. Patient Identity and DID Handling
Checkpoint	Status
â˜ On patient sign-up (e.g., via phone/email), a DID is generated (did:key or did:ethr)	
â˜ The patientâ€™s DID is securely stored and linked to their account	
â˜ Private key is encrypted and stored (or derived from a secure source)	
â˜ Patients do not see or manage keys manually unless they explicitly ask	

ğŸ§  2. Consent Workflow Design
Checkpoint	Status
â˜ Hospitals cannot access patient records by default	
â˜ A request-for-consent workflow exists (e.g., Hospital B â†’ Patient)	
â˜ Patients are shown:	

What data will be shared

With whom (hospital name)

For how long

Why (e.g., treatment, second opinion)
â˜ Patient approves/denies in a clear, accessible modal
â˜ The system signs a Verifiable Credential (VC) or UCAN token with:

Patient DID

Hospital B DID

CID (IPFS hash of the record)

Time window (e.g., 24â€“72 hours)

Scope of access
â˜ Consent actions (approve/revoke) are logged and timestamped

ğŸ” 3. Cryptographic Authorization
Checkpoint	Status
â˜ VC or UCAN is cryptographically signed with patientâ€™s DID	
â˜ Hospital B uses the signed credential to retrieve the record	
â˜ Backend verifies the credential/token signature before allowing access	
â˜ Expired or revoked credentials are rejected automatically	

ğŸ“¦ 4. Data Storage & Access
Checkpoint	Status
â˜ All patient records are encrypted before uploading to IPFS	
â˜ Encryption key is:	

Stored securely

Only shared with authorized hospital on valid request
â˜ IPFS content hash (CID) is used in the VC as a reference
â˜ No raw health data is stored in centralized DB (only metadata + CIDs)
â˜ Records can be decrypted only if hospital has VC + encryption key

ğŸ§¾ 5. Auditing & Logs
Checkpoint	Status
â˜ All consent events are logged:	

Who requested

Who approved

Timestamp

Duration
â˜ Audit log is available to:

Patients (what access they granted)

Admin (for compliance)
â˜ Hospitals accessing data are logged with:

Timestamp

Record ID

Access outcome (granted/denied)

ğŸŒ 6. Patient-Centric UX
Checkpoint	Status
â˜ Patient sees simple modals, not cryptographic terms	
â˜ Can revoke consent at any time from their dashboard	
â˜ Sees a list of:	

Active consents

Past access events

Hospitals theyâ€™ve authorized
â˜ UI avoids wallet pop-ups unless explicitly enabled
â˜ Optional: Export DID / keys for advanced users

ğŸ§ª 7. Testing & Security Checks
Checkpoint	Status
â˜ Tried to access a record without consent â€” rejected âœ…	
â˜ Tried with expired VC â€” rejected âœ…	
â˜ Tried with tampered VC â€” rejected âœ…	
â˜ Hospital A can only view records they submitted	
â˜ Hospital B can only view records they were approved for